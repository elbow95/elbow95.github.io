---
layout: post
title: Mysql常用
date: '2021-01-11'
categories: [Mysql]
---

### 常见错误解决方法

- 密码正确但是无法登录数据库
  - 原因在于MySQL8.0不能通过直接修改mysql.user表来更改密码，因为authentication_string字段只能是MySQL加密之后的43位字符串密码，通过直接修改的方式会导致该错误。
```
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'new_password';
FLUSH privileges;
```

- 清空root密码
```
// 打开配置文件
sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf
// 在[mysqld]后面任意一行添加skip-grant-tables
// 重启mysql
sudo service mysql restart
// 无密码登录mysql
mysql -uroot
// 清空root密码
UPDATE user SET authentication_string="" WHERE user="root";
FLUSH privileges;
```
